function arrayUnique(i){return i.reduce(function(i,e){return i.indexOf(e)<0&&i.push(e),i},[])}function function_exists(i){return"string"==typeof i&&(i=this.window[i]),"function"==typeof i}function oosHookJsCode(){for(var i=0;i<oosHookJsCodeFunctions.length;i++)function_exists(oosHookJsCodeFunctions[i])&&setTimeout(oosHookJsCodeFunctions[i]+"()",0)}function addCombination(i,e,t,a,n,o,c,r,s,l,d){globalQuantity+=t;var u=[];u.idCombination=i,u.quantity=t,u.idsAttributes=e,u.price=a,u.ecotax=n,u.image=o,u.reference=c,u.unit_price=r,u.minimal_quantity=s,u.available_date=[],u.available_date=l,u.specific_price=[],u.specific_price=d,combinations.push(u)}function findCombination(){$("#minimal_quantity_wanted_p").fadeOut(),("undefined"==typeof $("#minimal_quantity_label").text()||$("#minimal_quantity_label").html()>1)&&$("#quantity_wanted").val(1);var i=[],e=parseInt($("#attributes .checked > input[type=radio]").length);e=e?"#attributes .checked > input[type=radio]":"#attributes input[type=radio]:checked",$("#attributes select, #attributes input[type=hidden], "+e).each(function(){i.push(parseInt($(this).val()))}),"undefined"!=typeof combinations&&combinations||(combinations=[]);for(var t=0;t<combinations.length;++t){var a=!0;if($.each(combinations[t].idsAttributes,function(e,t){in_array(parseInt(t),i)||(a=!1)}),a)return combinations[t].minimal_quantity>1&&($("#minimal_quantity_label").html(combinations[t].minimal_quantity),$("#minimal_quantity_wanted_p").fadeIn(),$("#quantity_wanted").val(combinations[t].minimal_quantity),$("#quantity_wanted").bind("keyup",function(){checkMinimalQuantity(combinations[t].minimal_quantity)})),selectedCombination.unavailable=!1,selectedCombination.reference=combinations[t].reference,$("#idCombination").val(combinations[t].idCombination),quantityAvailable=combinations[t].quantity,selectedCombination.price=combinations[t].price,selectedCombination.unit_price=combinations[t].unit_price,selectedCombination.specific_price=combinations[t].specific_price,selectedCombination.ecotax=combinations[t].ecotax?combinations[t].ecotax:default_eco_tax,combinations[t].image&&-1!=combinations[t].image&&displayImage($("#thumb_"+combinations[t].image).parent()),combinations[t].idCombination&&combinations[t].idCombination>0&&displayDiscounts(combinations[t].idCombination),selectedCombination.available_date=combinations[t].available_date,updateDisplay(),firstTime?(refreshProductImages(0),firstTime=!1):refreshProductImages(combinations[t].idCombination),void 0}selectedCombination.unavailable=!0,"undefined"!=typeof selectedCombination.available_date&&delete selectedCombination.available_date,updateDisplay()}function updateDisplay(){if(!selectedCombination.unavailable&&quantityAvailable>0&&1==productAvailableForOrder)$("#quantity_wanted_p:hidden").show("slow"),$("#add_to_cart:hidden").fadeIn(600),$("#oosHook").hide(),$("#availability_date").fadeOut(),stock_management&&""!=availableNowValue?($("#availability_value").removeClass("warning_inline").text(availableNowValue).show(),$("#availability_statut:hidden").show("slow")):$("#availability_statut:visible").hide("slow"),allowBuyWhenOutOfStock||(maxQuantityToAllowDisplayOfLastQuantityMessage>=quantityAvailable?$("#last_quantities").show("slow"):$("#last_quantities").hide("slow")),quantitiesDisplayAllowed&&($("#pQuantityAvailable:hidden").show("slow"),$("#quantityAvailable").text(quantityAvailable),2>quantityAvailable?($("#quantityAvailableTxt").show(),$("#quantityAvailableTxtMultiple").hide()):($("#quantityAvailableTxt").hide(),$("#quantityAvailableTxtMultiple").show()));else{if(1==productAvailableForOrder&&($("#oosHook").show(),$("#oosHook").length>0&&function_exists("oosHookJsCode")&&oosHookJsCode()),$("#last_quantities:visible").hide("slow"),$("#pQuantityAvailable:visible").hide("slow"),allowBuyWhenOutOfStock||$("#quantity_wanted_p:visible").hide("slow"),selectedCombination.unavailable?($("#availability_value").text(doesntExist).removeClass("label-success").addClass("label-warning"),$("#oosHook").hide()):($("#availability_value").text(doesntExistNoMore+(globalQuantity>0?" "+doesntExistNoMoreBut:"")),allowBuyWhenOutOfStock||$("#availability_value").removeClass("label-success").addClass("label-warning")),(1==stock_management&&!allowBuyWhenOutOfStock||!stock_management&&selectedCombination.unavailable)&&$("#availability_statut:hidden").show(),"undefined"!=typeof selectedCombination.available_date&&"undefined"!=typeof selectedCombination.available_date.date_formatted&&0!=selectedCombination.available_date.date.length){var i=selectedCombination.available_date.date,e=i.split("-"),t=new Date(e[0],e[1],e[2]);t.setMonth(t.getMonth()-1);var a=new Date;a.getTime()<t.getTime()&&$("#availability_date_value").text()!=selectedCombination.available_date.date_formatted?$("#availability_date").fadeOut("normal",function(){$("#availability_date_value").text(selectedCombination.available_date.date_formatted),$(this).fadeIn()}):a.getTime()<t.getTime()&&$("#availability_date").fadeIn()}else $("#availability_date").fadeOut();allowBuyWhenOutOfStock&&!selectedCombination.unavailable&&productAvailableForOrder?($("#add_to_cart:hidden").fadeIn(600),stock_management&&""!=availableLaterValue?($("#availability_value").addClass("label-warning").text(availableLaterValue).show("slow"),$("#availability_statut:hidden").show("slow")):$("#availability_statut:visible").hide("slow")):($("#add_to_cart:visible").fadeOut(600),1==stock_management&&productAvailableForOrder&&$("#availability_statut:hidden").show("slow")),0==productAvailableForOrder&&$("#availability_statut:visible").hide()}selectedCombination.reference||productReference?(selectedCombination.reference?$("#product_reference span").text(selectedCombination.reference):productReference&&$("#product_reference span").text(productReference),$("#product_reference:hidden").show("slow")):$("#product_reference:visible").hide("slow"),productHasAttributes&&updatePrice()}function updatePrice(){var i=$("#idCombination").val(),e=combinationsFromController[i];if("undefined"!=typeof e){var t=+productPriceTaxExcluded,a=+productPriceTaxIncluded,n=0;n=t*(1-groupReduction),t+=+e.price,a+=+e.price*(taxRate/100+1),e.specific_price&&e.specific_price.price>0&&(t=+e.specific_price.price,a=+e.specific_price.price*(taxRate/100+1));var o=t,c=a;if(default_eco_tax&&(o+=default_eco_tax*(1+ecotaxTax_rate/100),c+=default_eco_tax*(1+ecotaxTax_rate/100),a+=default_eco_tax*(1+ecotaxTax_rate/100),t+=default_eco_tax*(1+ecotaxTax_rate/100)),e.specific_price&&e.specific_price.reduction>0)if("amount"==e.specific_price.reduction_type){if("undefined"!=typeof e.specific_price.reduction_tax&&"0"===e.specific_price.reduction_tax){var r=e.specific_price.reduction;0==e.specific_price.id_currency&&(r=r*currencyRate*(1-groupReduction)),o-=r,c-=r*(taxRate/100+1)}}else"percentage"==e.specific_price.reduction_type&&(o*=1-+e.specific_price.reduction,c*=1-+e.specific_price.reduction);if(noTaxForThisProduct||customerGroupWithoutTax?(basePriceDisplay=t,priceWithDiscountsDisplay=o):(basePriceDisplay=a,priceWithDiscountsDisplay=c),e.specific_price&&e.specific_price.reduction>0&&"amount"==e.specific_price.reduction_type&&("undefined"==typeof e.specific_price.reduction_tax||"undefined"!=typeof e.specific_price.reduction_tax&&"1"===e.specific_price.reduction_tax)){var r=e.specific_price.reduction;"undefined"!=typeof specific_currency&&specific_currency&&parseInt(e.specific_price.id_currency)&&e.specific_price.id_currency!=currency.id?r/=currencyRate:specific_currency||(r*=currencyRate),"undefined"!=typeof groupReduction&&groupReduction>0&&(r*=1-parseFloat(groupReduction)),priceWithDiscountsDisplay-=r,o=priceWithDiscountsDisplay-r*(1/(1+taxRate/100))}if(basePriceDisplay!=priceWithDiscountsDisplay)var s=basePriceDisplay-priceWithDiscountsDisplay,l=100*(1-priceWithDiscountsDisplay/basePriceDisplay);var d=+e.unit_impact;if((productUnitPriceRatio>0||d)&&(d?(baseUnitPrice=productBasePriceTaxExcl/productUnitPriceRatio,unit_price=baseUnitPrice+d,noTaxForThisProduct&&customerGroupWithoutTax||(unit_price*=taxRate/100+1)):unit_price=priceWithDiscountsDisplay/productUnitPriceRatio),$("#reduction_percent").hide(),$("#reduction_amount").hide(),$("#our_price_display").removeClass("new-price"),$("#old_price, #old_price_display, #old_price_display_taxes").hide(),$(".price-ecotax").hide(),$(".unit-price").hide(),$("#our_price_display").text(formatCurrency(priceWithDiscountsDisplay,currencyFormat,currencySign,currencyBlank)).trigger("change"),priceWithDiscountsDisplay.toFixed(2)!=basePriceDisplay.toFixed(2)&&($("#old_price_display span.price").text(formatCurrency(basePriceDisplay,currencyFormat,currencySign,currencyBlank)),$("#old_price, #old_price_display, #old_price_display_taxes").removeClass("hidden").show(),o!=n))if("amount"==e.specific_price.reduction_type)$("#reduction_amount_display").html("-"+formatCurrency(s,currencyFormat,currencySign,currencyBlank)),$("#reduction_amount").show(),$("#our_price_display").addClass("new-price");else{var u=2;parseFloat(l).toFixed(2)-parseFloat(l).toFixed(0)==0&&(u=0),$("#reduction_percent_display").html("-"+parseFloat(l).toFixed(u)+"%"),$("#reduction_percent").show(),$("#our_price_display").addClass("new-price")}default_eco_tax&&(ecotax=default_eco_tax,e.ecotax&&(ecotax=+e.ecotax),noTaxForThisProduct||(ecotax*=1+ecotaxTax_rate/100),$("#ecotax_price_display").text(formatCurrency(ecotax*currencyRate,currencyFormat,currencySign,currencyBlank)),$(".price-ecotax").show()),productUnitPriceRatio>0&&($("#unit_price_display").text(formatCurrency(unit_price*currencyRate,currencyFormat,currencySign,currencyBlank)),$(".unit-price").show()),noTaxForThisProduct||customerGroupWithoutTax?updateDiscountTable(o):updateDiscountTable(c)}}function displayImage(i,e){if("undefined"==typeof e&&(e=!1),i.attr("href")){var t=i.attr("href").replace("thickbox","large"),a=i.attr("title"),n=i.attr("href");$("#bigpic").attr("src")!=t&&$("#bigpic").attr({src:t,alt:a,title:a}).load(function(){"undefined"!=typeof jqZoomEnabled&&jqZoomEnabled&&$(this).attr("rel",n)}),$("#views_block li a").removeClass("shown"),$(i).addClass("shown")}}function displayDiscounts(i){var e=$("#quantityDiscount").parent(),t=$(".quantityDiscount_"+i,e),a=$(".quantityDiscount_0",e);0!=t.length?($("tbody tr",e).not(".quantityDiscount_"+i).hide(),t.show(),a.show(),e.show()):0!=a.length?($("tbody tr",e).not(".quantityDiscount_0").hide(),a.show(),e.show()):e.hide()}function updateDiscountTable(i){$("#quantityDiscount tbody tr").each(function(){var e=$(this).data("discount-type"),t=$(this).data("discount"),a=$(this).data("discount-quantity");if("percentage"==e)var n=i*(1-t/100),o=i*(t/100)*a;else if("amount"==e)var n=i-t,o=t*a;0!=displayDiscountPrice&&$(this).children("td").eq(1).text(formatCurrency(n*currencyRate,currencyFormat,currencySign,currencyBlank)),$(this).children("td").eq(2).text(upToTxt+" "+formatCurrency(o*currencyRate,currencyFormat,currencySign,currencyBlank))})}function serialScrollFixLock(i,e,t,a,n){$("body").find("#image-block").parent().innerWidth()>485?serialScrollNbImagesDisplayed=5:$("body").find("#image-block").parent().innerWidth()>380&&$("body").find("#image-block").parent().innerWidth()<=485?(serialScrollNbImagesDisplayed=4,2==productColumns&&(serialScrollNbImagesDisplayed=4)):serialScrollNbImagesDisplayed=3,$("body").find("#image-block").parent().innerWidth()>580&&(serialScrollNbImagesDisplayed=5),$("body").find("#image-block").parent().innerWidth()>799&&(serialScrollNbImagesDisplayed=7),"undefined"!=typeof contentOnly&&contentOnly&&(serialScrollNbImagesDisplayed=5),serialScrollNbImages=$("#thumbs_list li:visible").length;var o=0==n?!0:!1,c=n+serialScrollNbImagesDisplayed>=serialScrollNbImages?!0:!1;return $("#view_scroll_left").css("cursor",o?"default":"pointer").fadeTo(0,o?0:1).css("display",o?"none":"block"),$("#view_scroll_right").css("cursor",c?"default":"pointer").fadeTo(0,c?0:1).css("display",c?"none":"block"),!0}function refreshProductImages(i){if($("#thumbs_list_frame").scrollTo("li:eq(0)",500,{axis:"y"}),i=parseInt(i),i>0&&"undefined"!=typeof combinationImages&&"undefined"!=typeof combinationImages[i]){$("#thumbs_list li").hide(),$("#thumbs_list").trigger("goto",0);for(var e=0;e<combinationImages[i].length;e++)"undefined"!=typeof jqZoomEnabled&&jqZoomEnabled?$("#thumbnail_"+parseInt(combinationImages[i][e])).show().children("a.shown").trigger("click"):$("#thumbnail_"+parseInt(combinationImages[i][e])).show()}else{$("#thumbs_list li").show();var t=[],a=parseInt($("#attributes .checked > input[type=radio]").length);a=a?"#attributes .checked > input[type=radio]":"#attributes input[type=radio]:checked",$("#attributes select, #attributes input[type=hidden], "+a).each(function(){t.push(parseInt($(this).val()))}),"undefined"!=typeof combinations&&combinations||(combinations=[]);for(var n=0;n<combinations.length;++n){var o=!0;$.each(combinations[n].idsAttributes,function(i,e){in_array(parseInt(e),t)||(o=!1)}),o&&combinations[n].image&&-1!=combinations[n].image&&displayImage($("#thumb_"+combinations[n].image).parent())}}parseInt($("#thumbs_list_frame >li:visible").length)!=parseInt($("#thumbs_list_frame >li").length)?$("#wrapResetImages").stop(!0,!0).show():$("#wrapResetImages").stop(!0,!0).hide();var c=$("#thumbs_list_frame >li").outerHeight()+parseInt($("#thumbs_list_frame >li").css("marginTop"));$("#thumbs_list_frame").height(parseInt(c*$("#thumbs_list_frame >li").length)+"px"),$("#thumbs_list").trigger("goto",0),serialScrollFixLock("","","","",0)}function galeryReload(){$("#thumbs_list").serialScroll({items:"li:visible",prev:"#view_scroll_left",next:"#view_scroll_right",axis:"y",offset:0,start:0,stop:!0,onBefore:serialScrollFixLock,duration:700,step:1,lazy:!0,lock:!1,force:!1,cycle:!1}),$("#thumbs_list").trigger("goto",1),$("#thumbs_list").trigger("goto",0)}function saveCustomization(){$("#quantityBackup").val($("#quantity_wanted").val()),$("#customizationForm").submit()}function submitPublishProduct(i,e,t){var a=$("#admin-action-product-id").val();return $.ajaxSetup({async:!1}),$.post(i+"/index.php",{action:"publishProduct",id_product:a,status:1,redirect:e,ajax:1,tab:"AdminProducts",token:t},function(i){-1===i.indexOf("error")&&(document.location.href=i)}),!0}function checkMinimalQuantity(i){$("#quantity_wanted").val()<i?($("#quantity_wanted").css("border","1px solid red"),$("#minimal_quantity_wanted_p").css("color","red")):($("#quantity_wanted").css("border","1px solid #BDC2C9"),$("#minimal_quantity_wanted_p").css("color","#374853"))}function colorPickerClick(i){id_attribute=$(i).attr("id").replace("color_",""),$(i).parent().parent().children().removeClass("selected"),$(i).fadeTo("fast",1,function(){$(this).fadeTo("fast",0,function(){$(this).fadeTo("fast",1,function(){$(this).parent().addClass("selected")})})}),$(i).parent().parent().parent().children(".color_pick_hidden").val(id_attribute)}function getProductAttribute(){request="";var i=[],e=parseInt($("#attributes .checked > input[type=radio]").length);e=e?"#attributes .checked > input[type=radio]":"#attributes input[type=radio]:checked",$("#attributes select, #attributes input[type=hidden], "+e).each(function(){i.push($(this).val())});for(var t in attributesCombinations)for(var a in i)attributesCombinations[t].id_attribute===i[a]&&(request+="/"+attributesCombinations[t].id_attribute+"-"+attributesCombinations[t].group+attribute_anchor_separator+attributesCombinations[t].attribute);request=request.replace(request.substring(0,1),"#/");var n=window.location+"";-1!=n.indexOf("#")&&(n=n.substring(0,n.indexOf("#"))),$("#customizationForm").length&&(customAction=$("#customizationForm").attr("action"),-1!=customAction.indexOf("#")&&(customAction=customAction.substring(0,customAction.indexOf("#"))),$("#customizationForm").attr("action",customAction+request)),window.location=n+request}function checkUrl(){if(original_url!=window.location||first_url_check){first_url_check=!1;var i=window.location+"";if(-1!=i.indexOf("#/")){params=i.substring(i.indexOf("#")+1,i.length),tabParams=params.split("/"),tabValues=[],""==tabParams[0]&&tabParams.shift();for(var e=tabParams.length,t=0;e>t;t++)tabParams[t]=tabParams[t].replace(attribute_anchor_separator,"-"),tabValues.push(tabParams[t].split("-"));$(".color_pick").removeClass("selected").parent().parent().children().removeClass("selected"),count=0;for(var a in tabValues)for(var n in attributesCombinations)attributesCombinations[n].group===decodeURIComponent(tabValues[a][1])&&attributesCombinations[n].id_attribute===decodeURIComponent(tabValues[a][0])&&(count++,$("#color_"+attributesCombinations[n].id_attribute).addClass("selected").parent().addClass("selected"),$("input:radio[value="+attributesCombinations[n].id_attribute+"]").prop("checked",!0),$("input[type=hidden][name=group_"+attributesCombinations[n].id_attribute_group+"]").val(attributesCombinations[n].id_attribute),$("select[name=group_"+attributesCombinations[n].id_attribute_group+"]").val(attributesCombinations[n].id_attribute),$.prototype.uniform&&$.uniform.update("input[name=group_"+attributesCombinations[n].id_attribute_group+"], select[name=group_"+attributesCombinations[n].id_attribute_group+"]"));if(count)return firstTime&&(firstTime=!1,findCombination()),original_url=i,!0;window.location.replace(i.substring(0,i.indexOf("#")))}}return!1}var serialScrollNbImagesDisplayed,selectedCombination=[],globalQuantity=0,colors=[],original_url=window.location+"",first_url_check=!0,firstTime=!0;if("undefined"!=typeof customizationFields&&customizationFields){var customizationFieldsBk=customizationFields;customizationFields=[];for(var j=0,i=0;i<customizationFieldsBk.length;++i){var key="pictures_"+parseInt(id_product)+"_"+parseInt(customizationFieldsBk[i].id_customization_field);customizationFields[i]=[],customizationFields[i][0]=0==parseInt(customizationFieldsBk[i].type)?"img"+i:"textField"+j++,customizationFields[i][1]=0==parseInt(customizationFieldsBk[i].type)&&customizationFieldsBk[i][key]?2:parseInt(customizationFieldsBk[i].required)}}if("undefined"!=typeof combinationImages&&combinationImages){combinationImagesJS=[],combinationImagesJS[0]=[];var k=0;for(var i in combinationImages){combinationImagesJS[i]=[];for(var j in combinationImages[i]){var id_image=parseInt(combinationImages[i][j].id_image);id_image&&(combinationImagesJS[0][k++]=id_image,combinationImagesJS[i][j]=[],combinationImagesJS[i][j]=id_image)}}if("undefined"!=typeof combinationImagesJS[0]&&combinationImagesJS[0]){var array_values=[];for(var key in arrayUnique(combinationImagesJS[0]))array_values.push(combinationImagesJS[0][key]);combinationImagesJS[0]=array_values}combinationImages=combinationImagesJS}if("undefined"!=typeof combinations&&combinations){combinationsJS=[];var k=0;for(var i in combinations)globalQuantity+=combinations[i].quantity,combinationsJS[k]=[],combinationsJS[k].idCombination=parseInt(i),combinationsJS[k].idsAttributes=combinations[i].attributes,combinationsJS[k].quantity=combinations[i].quantity,combinationsJS[k].price=combinations[i].price,combinationsJS[k].ecotax=combinations[i].ecotax,combinationsJS[k].image=parseInt(combinations[i].id_image),combinationsJS[k].reference=combinations[i].reference,combinationsJS[k].unit_price=combinations[i].unit_impact,combinationsJS[k].minimal_quantity=parseInt(combinations[i].minimal_quantity),combinationsJS[k].available_date=[],combinationsJS[k].available_date.date=combinations[i].available_date,combinationsJS[k].available_date.date_formatted=combinations[i].date_formatted,combinationsJS[k].specific_price=[],combinationsJS[k].specific_price.reduction_percent=combinations[i].specific_price&&combinations[i].specific_price.reduction&&"percentage"==combinations[i].specific_price.reduction_type?100*combinations[i].specific_price.reduction:0,combinationsJS[k].specific_price.reduction_price=combinations[i].specific_price&&combinations[i].specific_price.reduction&&"amount"==combinations[i].specific_price.reduction_type?combinations[i].specific_price.reduction:0,combinationsJS[k].price=combinations[i].specific_price&&combinations[i].specific_price.price&&-1!=parseInt(combinations[i].specific_price.price)?combinations[i].specific_price.price:combinations[i].price,combinationsJS[k].reduction_type=combinations[i].specific_price&&combinations[i].specific_price.reduction_type?combinations[i].specific_price.reduction_type:"",combinationsJS[k].id_product_attribute=combinations[i].specific_price&&combinations[i].specific_price.id_product_attribute?combinations[i].specific_price.id_product_attribute:0,k++;combinations=combinationsJS}$(document).ready(function(){var i=checkUrl();if(i||("undefined"!=typeof productHasAttributes&&productHasAttributes?findCombination():refreshProductImages(0)),"undefined"!=typeof jqZoomEnabled&&jqZoomEnabled){if($("#thumbs_list .shown img").length){var e=$("#thumbs_list .shown img").attr("src").replace("cart_","large_");$(".jqzoom img").attr("src")!=e&&$(".jqzoom img").attr("src",e).parent().attr("href",e)}$(".jqzoom").jqzoom({zoomType:"innerzoom",zoomWidth:458,zoomHeight:458,xOffset:21,yOffset:0,title:!1})}if("undefined"==typeof contentOnly||contentOnly?"undefined"==typeof ajax_allowed||ajax_allowed||$("#buy_block").attr("target","_top"):$.prototype.fancybox&&$("li:visible .fancybox, .fancybox.shown").fancybox({hideOnContentClick:!0,openEffect:"elastic",closeEffect:"elastic"}),$.prototype.uniform&&("undefined"!=typeof product_fileDefaultHtml&&($.uniform.defaults.fileDefaultHtml=product_fileDefaultHtml),"undefined"!=typeof product_fileButtonHtml&&($.uniform.defaults.fileButtonHtml=product_fileButtonHtml)),$("#customizationForm").length){var t=window.location+"";-1!=t.indexOf("#")&&getProductAttribute()}$(".product-info-tabs li:first, #product .tab-content > div:first").addClass("active")}),$(window).resize(function(){$("#thumbs_list").trigger("goto",0),serialScrollFixLock("","","","",0)}),$(window).bind("hashchange",function(){checkUrl(),findCombination()}),jqZoomEnabled||$(document).on("mouseover","#views_block li a",function(){displayImage($(this))}),$(document).on("click","#view_full_size, #image-block",function(){$("#views_block .shown").click()}),$(document).on("click","#short_description_block .button",function(){$("#more_info_tab_more_info").click(),$.scrollTo("#more_info_tabs",1200)}),$(document).on("click","#customizedDatas input",function(){$("#customizedDatas input").hide(),$("#ajax-loader").fadeIn(),$("#customizedDatas").append(uploading_in_progress)}),$(document).on("click","a[data-id=resetImages]",function(i){i.preventDefault(),refreshProductImages(0)}),$(document).on("click",".color_pick",function(i){i.preventDefault(),colorPickerClick($(this)),getProductAttribute()}),$(document).on("change",".attribute_select",function(i){i.preventDefault(),findCombination(),getProductAttribute()}),$(document).on("click",".attribute_radio",function(i){i.preventDefault(),findCombination(),getProductAttribute()}),$(document).on("click","button[name=saveCustomization]",function(){saveCustomization()}),"undefined"!=typeof ad&&ad&&"undefined"!=typeof adtoken&&adtoken&&($(document).on("click","a#publish_button",function(i){i.preventDefault(),submitPublishProduct(ad,0,adtoken)}),$(document).on("click","a#lnk_view",function(i){i.preventDefault(),submitPublishProduct(ad,1,adtoken)})),"undefined"!=typeof contentOnly&&contentOnly&&($(document).on("click",".fancybox",function(i){i.preventDefault(),"undefined"!=typeof jqZoomEnabled&&jqZoomEnabled&&displayImage($(this))}),$(document).on("click","#image-block",function(i){i.preventDefault();var e=window.document.location.href+"",t=e.replace(/[\?|&]content_only=1/,"");"search"==window.parent.page_name&&(t+=(t.indexOf("?")<0?"?":"&")+"HTTP_REFERER="+encodeURIComponent(window.parent.document.location.href)),window.parent.document.location.href=t})),$(document).on("click",".product_quantity_up",function(i){i.preventDefault(),fieldName=$(this).data("field-qty");var e=parseInt($("input[name="+fieldName+"]").val());quantityAvailableT=!allowBuyWhenOutOfStock&&quantityAvailable>0?quantityAvailable:1e8,!isNaN(e)&&quantityAvailableT>e?$("input[name="+fieldName+"]").val(e+1).trigger("keyup"):$("input[name="+fieldName+"]").val(quantityAvailableT)}),$(document).on("click",".product_quantity_down",function(i){i.preventDefault(),fieldName=$(this).data("field-qty");var e=parseInt($("input[name="+fieldName+"]").val());!isNaN(e)&&e>1?$("input[name="+fieldName+"]").val(e-1).trigger("keyup"):$("input[name="+fieldName+"]").val(1)}),"undefined"!=typeof minimalQuantity&&minimalQuantity&&(checkMinimalQuantity(),$(document).on("keyup","input[name=qty]",function(){checkMinimalQuantity(minimalQuantity)})),$(document).ready(galeryReload),$(window).resize(refreshProductImages),$(document).ready(function(){"undefined"!=productColumns?$(document).width()>=768?(minSlides=1==productColumns?6:2==productColumns?5:3,maxSlides=6):(minSlides=3,maxSlides=3):minSlides=2,$("#bxslider li").length&&$.prototype.bxSlider&&(slider2=$("#bxslider").bxSlider({minSlides:minSlides,maxSlides:maxSlides,slideWidth:178,slideMargin:20,pager:!1,nextText:"",prevText:"",moveSlides:1,infiniteLoop:!1,hideControlOnEnd:!0})),$("#bxslider").length&&$(window).on("resize load",function(){$(document).width()<=767?$(document).width()<=500?slider2.reloadSlider({minSlides:2,maxSlides:2,slideWidth:178,slideMargin:20,pager:!1,nextText:"",prevText:"",moveSlides:1,infiniteLoop:!1,hideControlOnEnd:!0}):slider2.reloadSlider({minSlides:3,maxSlides:3,slideWidth:178,slideMargin:20,pager:!1,nextText:"",prevText:"",moveSlides:1,infiniteLoop:!1,hideControlOnEnd:!0}):$(document).width()<=1199&&$(document).width()>=768?$(document).width()<=991?(minSlides="undefined"!=productColumns?1==productColumns?4:2==productColumns?3:2:2,slider2.reloadSlider({minSlides:minSlides,maxSlides:4,slideWidth:178,slideMargin:20,pager:!1,nextText:"",prevText:"",moveSlides:1,infiniteLoop:!1,hideControlOnEnd:!0})):(minSlides="undefined"!=productColumns?1==productColumns?5:2==productColumns?4:3:2,slider2.reloadSlider({minSlides:minSlides,maxSlides:5,slideWidth:178,slideMargin:20,pager:!1,nextText:"",prevText:"",moveSlides:1,infiniteLoop:!1,hideControlOnEnd:!0})):$(document).width()>=1200&&(minSlides="undefined"!=productColumns?1==productColumns?6:2==productColumns?5:3:2,slider2.reloadSlider({minSlides:minSlides,maxSlides:6,slideWidth:178,slideMargin:20,pager:!1,nextText:"",prevText:"",moveSlides:1,infiniteLoop:!1,hideControlOnEnd:!0}))}),$("#bxslider li").length||$(".accessories-block").parent().remove()}),$(document).on("click",".product-info-tabs li a",function(){var i=$(this).attr("href");$(document).width()<768&&$.scrollTo(i,1200)});